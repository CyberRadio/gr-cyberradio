# auto-generated by grc.converter

id: sinad_calc_block
label: '[CyberRadio] Sinad Calc Block'
category: '[CyberRadio]/Misc'

parameters:
-   id: cutoffFreq
    label: Cutoff Freq (normalized)
    dtype: real
    default: 2**-6
-   id: freqUpdateRate
    label: Freq Est. Update Rate
    dtype: real
    default: '1.0'
-   id: fs
    label: Sample Rate (sps)
    dtype: real
    default: '1.0'
-   id: isReal
    label: Real Data?
    dtype: bool
    default: 'False'
-   id: notchFreq
    label: Notch Frequency (Hz)
    dtype: real
    default: '0.0'
-   id: rmsAvgExp
    label: RMS Gain Exponent (2^N)
    dtype: int
    default: '5'
-   id: transBw
    label: Filter Transition BW (normalized)
    dtype: real
    default: 2.0**-8
-   id: useFreqEstimate
    label: Use Frequency Estimate?
    dtype: bool
    default: 'False'

inputs:
-   label: IQ
    domain: stream
    dtype: complex
    vlen: 1
    optional: true
-   label: Real
    domain: stream
    dtype: float
    vlen: 1
    optional: true

outputs:
-   label: SINAD (dB)
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: Filt. Sig. RMS Mag (dB)
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: Filt. Noise RMS Mag (dB)
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: Freq Est. (Hz)
    domain: stream
    dtype: float
    vlen: 1
    optional: true
-   label: Filtered Signal
    domain: stream
    dtype: complex
    vlen: 1
    optional: true

templates:
    imports: import CyberRadio
    make: |-
        CyberRadio.sinad_calc_block(
            cutoffFreq=${cutoffFreq},
            freqUpdateRate=${freqUpdateRate},
            fs=${fs},
            isReal=${isReal},
            notchFreq=${notchFreq},
            rmsAvgExp=${rmsAvgExp},
            transBw=${transBw},
            useFreqEstimate=${useFreqEstimate},
        )
    callbacks:
    - set_fs(${fs})
    - set_notchFreq(${notchFreq})
    - set_rmsAvgExp(${rmsAvgExp})
    - set_useFreqEstimate(${useFreqEstimate})

file_format: 1
