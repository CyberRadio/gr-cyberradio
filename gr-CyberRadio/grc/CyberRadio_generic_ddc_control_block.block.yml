# auto-generated by grc.converter

id: CyberRadio_generic_ddc_control_block
label: '[CyberRadio] NDR DDC Control'
flags: show_id
category: '[CyberRadio]/Radio Element Control'

parameters:
-   id: radioObj
    label: Radio Object
    dtype: raw
    hide: part
-   id: index
    label: DDC Index
    dtype: int
    default: '1'
-   id: enable
    label: DDC Enable
    dtype: int
    options: [0, 1]
    option_labels: ["OFF", "ON"]
    default: '0'
-   id: wideband
    label: Wideband Flag
    dtype: bool
    default: 'True'
-   id: rate
    label: DDC Rate Index
    dtype: int
    default: '0'
    hide: part
-   id: mode
    label: DDC Mode/Format
    dtype: int
    default: '0'
    hide: part
-   id: freq
    label: DDC Frequency [DDC Center (Hz), RF Freq (MHz)]
    dtype: real
    default: '0'
    hide: part
-   id: rfSource
    label: RF Source (i.e. Tuner Index)
    dtype: int
    default: '1'
    hide: part
-   id: rfFreq
    label: RF Freq (MHz)
    dtype: int
    default: '0'
    hide: part
-   id: radioInterface
    label: Radio Ethernet Interface (-1 = auto)
    category: Networking
    dtype: int
    default: '-1'
    hide: part
-   id: dipIndex
    label: DIP Table Index (-1 = auto)
    category: Networking
    dtype: int
    default: '-1'
    hide: part
-   id: localInterface
    label: Local Ethernet Interface (None = broadcast)
    category: Networking
    dtype: string
    hide: part
-   id: udpPort
    label: Destination UDP Port
    category: Networking
    dtype: int
    default: '12345'
-   id: phaseOffset
    label: Phase Offset (degrees)
    category: Misc.
    dtype: raw
    default: None
    hide: part
-   id: activeRepeatPackets
    label: Active Repeat (M)
    category: Misc.
    dtype: raw
    default: None
    hide: part
-   id: totalRepeatPackets
    label: Repeat Period (N)
    category: Misc.
    dtype: raw
    default: None
    hide: part
-   id: otherArgs
    label: Other Args (dict)
    category: Misc.
    dtype: raw
    default: '{}'
    hide: part
-   id: debug
    label: Debug Flag
    category: Misc.
    dtype: bool
    default: 'False'
    options: ['False', 'True']
    option_labels: ['No', 'Yes']
    hide: part

inputs:
-   domain: message
    id: control
    optional: true
-   domain: message
    id: freq
    optional: true
-   domain: message
    id: udp
    optional: true

outputs:
-   domain: message
    id: status
    optional: true
-   domain: message
    id: freq
    optional: true
-   domain: message
    id: udp
    optional: true

templates:
    imports: import CyberRadio
    make: |-
        CyberRadio.generic_ddc_control_block(
            ${radioObj}, 
            ${index}, 
            bool(${enable}), 
            ${wideband}, 
            ${rate}, 
            ${mode}, 
            ${freq}, 
            ${rfSource}, 
            ${rfFreq}, 
            ${radioInterface},
            ${dipIndex}, 
            ${localInterface}, 
            ${udpPort}, 
            ${otherArgs}, 
            ${debug},
        )
    callbacks:
    - set_index(${index})
    - set_enable(bool(${enable}))
    - set_wideband(${wideband})
    - set_rate_and_mode(${rate}, ${mode})
    - set_freq(${freq})
    - set_rfSource(${rfSource})
    - set_rfFreq(${rfFreq})
    - set_phaseOffset(${phaseOffset})
    - set_totalRepeatPackets(${totalRepeatPackets})
    - set_activeRepeatPackets(${activeRepeatPackets})
    - set_udpPort(${udpPort})
    - set_otherArgs(${otherArgs})

documentation: |-
    totalRepeatPackets and activeRepeatPackets:
    The primary purpose of these variables is to reduce bandwidth and 
    processing of unnecessary packets. The first $activeRepeatPackets 
    of $totalRepeatPackets are sent to the client. For example, if 
    $activeRepeatPackets is 2 and totalRepeatPackets is 5, then 
    packets [0,1,5,6,10,11]... will be sent to the client.

file_format: 1
